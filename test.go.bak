package main

import (
        "io/ioutil"
        "log"
        "strings"
        "fmt"
)

func main() {
        input, err := ioutil.ReadFile("dist/pages/testpage")
        if err != nil {
                log.Fatalln(err)
        }

        lines := strings.Split(string(input), "\n")

        for line := range lines {
                /*if strings.Contains(line, "<<~~ NAVBAR ~~>>") {*/
                strings.Replace(lines[line], "<<~~NAVBAR~~>>", "REPLACED", -1)
                        /*}*/
                fmt.Println(line, lines[line], " - ", strings.Replace(lines[line], "<<~~NAVBAR~~>>", "REPLACED", -1))
                
        }
        output := strings.Join(lines, "\n")
        err = ioutil.WriteFile("dist/pages/testpage_out", []byte(output), 0644)
        if err != nil {
                log.Fatalln(err)
        }
}